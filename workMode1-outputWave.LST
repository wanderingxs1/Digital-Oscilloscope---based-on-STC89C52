C51 COMPILER V9.00   WORKMODE1_OUTPUTWAVE                                                  04/28/2023 11:39:54 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE WORKMODE1_OUTPUTWAVE
OBJECT MODULE PLACED IN workMode1-outputWave.OBJ
COMPILER INVOKED BY: D:\keil4\C51\BIN\C51.EXE workMode1-outputWave.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include<workMode1-outputWave.h>
   2          
   3          unsigned char waveMode=0;//工作模式1下输出波形默认无效0
   4          //1正弦2三角波3方波4锯齿波
   5          unsigned char WAVE_VALUE=0;//要输出波形的当前值
   6          
   7          unsigned char isChange=0;//是否进行调整幅度/频率，由按键4触发，高电平有效
   8          //有效时按键5678不再是波形选择而是改变当前波形参数
   9          //置为无效时候清零freBuffer和ampBuffer
  10          unsigned char freBuffer=0;//调频参数，随按键56改变，5-，6+
  11          unsigned char ampBuffer=1;//调幅参数,随按键78改变，7-，8+
  12          
  13          //初始化4种波形，每种1周期，256个采样点
  14          void waveInit()
  15          {
  16   1          unsigned int address=0;     
  17   1          unsigned int i=0;
  18   1          //sin
  19   1          i=0;
  20   1          address=SIN_BASE_ADDRESS;
  21   1          for(;address<=0x10FF;address++,i++){
  22   2              XBYTE[address]=floor(12*(sin(3.14*i/128)+1))+32;
  23   2          }
  24   1          //triangular
  25   1          i=0;
  26   1          address=TRI_BASE_ADDRESS;
  27   1          for(;address<=0x1179;address++,i++){
  28   2              XBYTE[address]=20+i;
  29   2          }
  30   1          i=0;
  31   1          address=0x117A;
  32   1          for(;address<=0x11F3;address++,i++){
  33   2              XBYTE[address]=141-i;
  34   2          }
  35   1          //square
  36   1          address=SQU_BASE_ADDRESS;
  37   1          for(;address<=0x1279;address++){
  38   2              XBYTE[address]=150;
  39   2          }
  40   1          address=0x127A;
  41   1          for(;address<=0x12F3;address++){
  42   2              XBYTE[address]=30;
  43   2          }
  44   1          //teeth
  45   1          i=0;
  46   1          address=TEE_BASE_ADDRESS;
  47   1          for(;address<=0x1379;address++,i++){
  48   2              XBYTE[address]=i+20;
  49   2          }
  50   1      }
  51          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    336    ----
C51 COMPILER V9.00   WORKMODE1_OUTPUTWAVE                                                  04/28/2023 11:39:54 PAGE 2   

   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      5       4
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
